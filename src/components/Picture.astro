---
import { Picture as AstroPicture } from 'astro:assets'

import type { ImageMetadata } from 'astro'

interface Props {
    src: ImageMetadata
    alt: string
    caption: string
    class: string
}

const { src, alt, caption, class: className, ...props } = Astro.props;
---
<AstroPicture loading="lazy" src={src} alt={alt} formats={['avif', 'webp']} class:list={["img-thumbnail thumb", className]} {...props}></AstroPicture>

{caption && <>
    <br/>
    <small>{caption}</small>
</>}
